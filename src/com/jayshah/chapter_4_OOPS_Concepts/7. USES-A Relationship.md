
## Dependency Injection & USES-A Relation in Java

### Dependency Injection :-
- DI is the concept in which objects gets the other required objects from outside entity.
- The process of injecting or inserting dependent(contained) object into the container object is known as Dependency Injection.
- NEED :- While programming, java classes should be as minimum dependent as possible on each other. By this we will increase the possibility of reusing these classes and to be able to test them independently.
- TYPES OF DEPENDENCY INJECTION :-
  1. Constructor Dependency Injection
  2. Setter Method Dependency Injection


- Disadvantage of the `inheritance` : inheritance is tightly coupled that is why it is saying use minimum use of the inheritance. If there is a requirement, then feel free to use it otherwise use HAS-A relationship. 


```

// Example below diagram
 __________________________________________
|                                          |--------------------> Container Object (Student)
|           |------|     |--------|        |
|           | Java |     | Python |        |
|           |------|     |--------|        |
|                                          |
|           |------|     |--------|        |
|           |  C   |     |  C++   | -------|----------------------> Contained Objects
|           |------|     |--------|        |
|__________________________________________|



```
```java
class Student {
    String id;
    String name;

    Courses[] courses;

    Student(String id1, String name1, Courses[] courses1) {
        id = id1;
        name = name1;
        courses = courses1;
    }

    void getStudentDetails() {
        ------------------------
    }
}

class Courses {
    String courseid;
    String coursename;

    Courses(String courseid1, String coursename1) {
        courseid = courseid1;
        coursename = coursename1;
    }
}

class Demo {
    public static void main(String[] args) {
        Courses c1 = new Courses("j1", "Java");
        Courses c2 = new Courses("c1", "C");
        Courses c3 = new Courses("py1", "Python");      |-------------------> DI:  Dependency Injection
                                                        ||                   
        Courses[] courses1 = {c1, c2, c3};              ||
                                                        \/
        Student s1 = new Student("101", "Dwarkesh", courses1);
        s1.getStudentDetails();
        
        Courses c4 = new Courses("ph1", "PHP");
        Courses c5 = new Courses("h1", "HTML");

        Courses[] courses2 = {c4, c5};

        Student s2 = new Student("102", "Govardhan", courses2);
        s2.getStudentDetails();
    }
}
```


### Circular Dependency Injection :-
- It is the process of depending two objects in circular form i.e. first object is dependent on second object and second object is dependent on first object
- Circular DI can be achieved by setter method dependency injection but not in case of constructor dependency injection

### USES-A Relationship (Dependence)
- USES-A relationship is one in which a method of one class is using an object of another class
- For example : Transaction Uses Account to deposit() the amount


```java
// Dependency Injection
// using constructor:

class A
{
	String aa;
	A (B b)
	{

	}
	
}
class B
{
	int b;
	B(int bb)
	{
		b = bb;
	}
}
class ConstructorDi
{
	public static void main(String args)
	{
		B ob1=new B(100);
		A ob2=new A(ob1);
	}
}
```

```java
// Dependency Injection
// using setter 

class A
{
	
}
class B
{
	int bb;
	public void setBb(A a)   // setter method
	{

	}
}
class SetterMethodDi
{
	public static void main(String args)
	{
		A ob2=new A();
		B ob1=new B();
		ob1.setBb(ob2);
	}
}
```

```java
class A
{
	B b1;
	A(B b2)
	{
		b1 = b2;
	}
	
}
class B
{
	A a1;
	B(A a2)
	{
		a1 = a2;
	}
}
class CircularDiWithConstructor
{
	public static void main(String args)
	{
		A ob1 = new A(ob2); // trying to create A object, but we did not create B class object yet
		B ob2 = new B(ob1);
        
		// because of this reason
		// CircularDi with Constructor is not possible
	}
}
```

```java
// Circular Dependency Injection
// using setter
class A
{
	B b1;
	public void setB(B b2)
	{
		b1 = b2;
	}
	
}
class B
{
	A a1;
	public void setA(A a2)
	{
		a1 = a2;
	}
}
class CircularDi
{
	public static void main(String args)
	{
		A ob1 = new A();
		B ob2 = new B();

		ob1.setB(ob2);
		ob2.setA(ob2);
	}
}
```

```java
/*
 * USES-A Relationship (Dependence)
 * -> USES-A relationship is one in which a method of one class is using an object of another class
 * -> For example : Transaction Uses Account to deposit() the amount
 *
 * */
class Account {
  String accno;
  String name;
  int balance;

  Account(String accno1, String name1, int balance1) {
    accno = accno1;
    name = name1;
    balance = balance1;
  }
}

class Transaction {
  void deposit(Account account, int amount) {
    account.balance = account.balance + amount;
    System.out.println("Amount Deposited Successfully");
    System.out.println("Name : " + account.name);
    System.out.println("Account No : " + account.accno);
    System.out.println("Total Balance : " + account.balance);
  }
}

class BankApp {
  public static void main(String[] args) {
    Account ob1 = new Account("12345", "Dwarkesh", 10000);

    Transaction ob2 = new Transaction();
    ob2.deposit(ob1, 5000);
  }
}
```

